{"body":"# QueueDispatcher for Rails3\r\n\r\nThis Rails3 Gem implements a method to perform long running methods in the background.\r\nBackground tasks will be executed by persistent workers.\r\n\r\n## Install\r\n\r\nInside your Gemfile:\r\n\r\n`gem \"queue_dispatcher\"`\r\n\r\nand then run:\r\n\r\n`bundle install`\r\n\r\nTo install the queue_worker_dispatcher script, which starts all workers, execute the following rake command:\r\n\r\n`rake queue_dispatcher:sync`\r\n\r\n### Database Setup\r\n\r\nUse\r\n\r\n`rails g queue_dispatcher:migration`\r\n\r\nThis will create a database migration for the models Task and TaskQueues.\r\n\r\n### Gem Dependencies\r\n\r\nPlease check if all those requirements are satisfied on your environment.\r\n\r\n* rails >= 3.0.0\r\n* sys-proctable >= 0.9.1\r\n\r\n\r\n## Inside your application\r\n\r\nTo enqueue a long running task, simple call a method through enque.\r\nE.g.: \r\nAssume, you have a long running job:\r\n\r\n`LongRunningMailJob.send_mail`\r\n\r\nNow we'd like to execute it in the background by simply calling: \r\n\r\n`task = LongRunningMailJob.enqueue.send_mail`\r\n\r\nIf you like to put the job in a queue, you can do this by execute it the following way:\r\n\r\n`task = LongRunningMailJob.enqueue(queue: 'queue_name').send_mail`\r\n\r\nJobs inside a queue are executed serialized, not in parallel. You can define dependencies. A task is then executed only after all dependent tasks are finished. The dependencies could also be in another queue. This way you could ensure, that a task is only executed when another task from another queue is successfully finished. Code to add Task dependencies:\r\n\r\n`task.dependent_tasks = another_task`\r\n\r\n### Queue Worker Dispatcher\r\nThe QueueWorkerDispatcher-script starts the workers (default are 10 workers). A worker waits for a new queue and executes all tasks of this queue. Start the QueueWorkerDispatcher by executing the following command:\r\n\r\n`script/queue_worker_dispatcher`\r\n\r\nTo start the QueueWorkerDispatcher as a daemon, use the option -b.\r\n\r\n`-b, --background        work in background mode`\r\n\r\n## Copyright\r\n\r\nCopyright (c) 2011-2012 Philip Kurmann. See LICENSE for details.\r\n","name":"Queue dispatcher","tagline":"Queue_Dispatcher executes asynchronous tasks in the background.","note":"Don't delete this file! It's used internally to help with page regeneration.","google":""}